{"compress":true,"commitItems":[["9877de38-877b-45ae-8aa6-caa6cf06e92c",1536028492391,"# PRLocationManager\n",[[1536028442552,["huashuda@huashudadeMacBook-Pro.local",[[1,20,"\n"]],[19,19],[20,20]]],[1536028445656,["huashuda@huashudadeMacBook-Pro.local",[[-1,20,"\n"],[1,21,"#"]],[20,20],[21,21]]],[1536028448110,["huashuda@huashudadeMacBook-Pro.local",[[1,21,"# 使用"]],[21,21],[25,25]]],[1536028448864,["huashuda@huashudadeMacBook-Pro.local",[[1,25,"\n\n"]],[25,25],[26,26]]],[1536028468604,["huashuda@huashudadeMacBook-Pro.local",[[1,26,"```Objectivec\nself.resultLabel.text = @\"定位中...\";\n\n [[PRLocationManager  shareManager] locationStartSuccess:^(CLLocation *location, CLPlacemark *placemark) {\n\n // 获取城市\n\n NSString *city = placemark.locality;\n\n if (!city) {\n\n  // 四大直辖市的城市信息无法通过locality获得，只能通过获取省份的方法来获得（如果city为空，则可知为直辖市）\n\n city = placemark.administrativeArea;\n\n }\n\n NSLog(@\"city:%@\",city);\n\n  self.resultLabel.text = [NSString  stringWithFormat:@\"定位成功:%@\",city];\n\n } faile:^(NSError *error) {\n\n if (error) {\n\n if (error.code == 2) {\n\n self.resultLabel.text = @\"网络状态不好，请重试\";\n\n NSLog(@\"网络状态不好，请重试\");\n\n } else {\n\n self.resultLabel.text = [NSString stringWithFormat:@\"查询错误 = %@\", error];\n\n }\n\n } else {\n\n self.resultLabel.text = @\"查询失败，没有结果\";\n\n }\n\n }];\n\n [PRLocationManager  shareManager].currentAuthStatus = ^(BOOL isEnableLocation) {\n\n if (isEnableLocation) {\n\n self.resultLabel.text = @\"当前权限，可以定位\";\n\n } else {\n\n  UIAlertController *alertVC = [UIAlertController  alertControllerWithTitle:@\"定位失败\" message:@\"请前往设置，打开定位权限\" preferredStyle:UIAlertControllerStyleAlert];\n\n  UIAlertAction *cancelAction = [UIAlertAction  actionWithTitle:@\"取消\"  style:UIAlertActionStyleCancel  handler:^(UIAlertAction * _Nonnull action) {\n\n //\n\n }];\n\n  UIAlertAction *sureAction = [UIAlertAction  actionWithTitle:@\"前往\"  style:UIAlertActionStyleDestructive  handler:^(UIAlertAction * _Nonnull action) {\n\n [PRLocationManager  openLocationService];\n\n }];\n\n [alertVC addAction:cancelAction];\n\n [alertVC addAction:sureAction];\n\n [self  presentViewController:alertVC animated:YES  completion:nil];\n\n  self.resultLabel.text = @\"当前权限，不能定位，请打开权限\";\n\n }\n\n };\n```"]],[26,26],[1614,1614]]],[1536028473524,["huashuda@huashudadeMacBook-Pro.local",[[1,1615,"\n"]],[1614,1614],[1615,1615]]],[1536028475444,["huashuda@huashudadeMacBook-Pro.local",[[-1,1615,"\n"],[1,1616,"#"]],[1615,1615],[1616,1616]]],[1536028478556,["huashuda@huashudadeMacBook-Pro.local",[[1,1616,"# GIF"]],[1616,1616],[1621,1621]]],[1536028479216,["huashuda@huashudadeMacBook-Pro.local",[[1,1621,"\n\n"]],[1621,1621],[1622,1622]]],[1536028487849,["huashuda@huashudadeMacBook-Pro.local",[[1,1622,"![未命名]($resource/%E6%9C%AA%E5%91%BD%E5%90%8D.gif)"]],[1622,1622],[1671,1671]]],[1536028490648,["huashuda@huashudadeMacBook-Pro.local",[[-1,1622,"![未命名]($resource/%E6%9C%AA%E5%91%BD%E5%90%8D.gif)"]],[1671,1671],[1622,1622]]],[1536028507097,["huashuda@huashudadeMacBook-Pro.local",[[1,1622,"![未命名]($resource/%E6%9C%AA%E5%91%BD%E5%90%8D.gif)\n"]],[1622,1622],[1672,1672]]],[1536028509262,["huashuda@huashudadeMacBook-Pro.local",[[-1,1672,"\n"]],[1672,1672],[1671,1671]]]],null,"huashuda@huashudadeMacBook-Pro.local"]]}